<div class="aiz-topbar px-15px px-lg-25px d-flex align-items-stretch justify-content-between">
    <div class="d-flex">
        <div class="aiz-topbar-nav-toggler d-flex align-items-center justify-content-start mr-2 mr-md-3 ml-0"
            data-toggle="aiz-mobile-nav">
            <button class="btn p-2 bg-transparent">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="21" height="21">
                    <g data-name="Burger Menu">
                        <rect width="32" height="32" fill="#fff" opacity="0" />
                        <line x1="3" x2="29" y1="8" y2="8" fill="none"
                            stroke="#231f20" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                        <line x1="7" x2="25" y1="16" y2="16" fill="none"
                            stroke="#231f20" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                        <line x1="3" x2="29" y1="24" y2="24" fill="none"
                            stroke="#231f20" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                    </g>
                </svg>
            </button>
        </div>
    </div>
    <div class="d-flex justify-content-between align-items-stretch flex-grow-xl-1">
        <div class="d-flex justify-content-around align-items-center align-items-stretch">
            <div class="d-flex justify-content-around align-items-center align-items-stretch">
                <div class="aiz-topbar-item">
                    <div class="d-flex align-items-center">
                        <a class="btn btn-icon btn-circle btn-light d-flex justify-content-center align-items-center"
                            href="{{ route('home') }}" target="_blank" title="{{ translate('Browse Website') }}">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="21" height="21">
                                <path
                                    d="M24 2C11.863281 2 2 11.863281 2 24C2 36.136719 11.863281 46 24 46C26.058594 46 28.070313 45.703125 30 45.15625L30 41.296875C28.503906 42.742188 26.808594 43.667969 25 43.921875L25 36L30 36L30 34L25 34L25 25L30 25L30 23L25 23L25 14L34.371094 14C35.265625 16.582031 35.832031 19.519531 35.957031 22.660156L37 23.640625L37.988281 24.5625L38.453125 25L43.964844 25C43.886719 26.527344 43.644531 28.027344 43.230469 29.480469L44.847656 30.996094C45.601563 28.757813 46 26.40625 46 24C46 11.863281 36.136719 2 24 2 Z M 23 4.082031L23 12L14.441406 12C14.816406 11.175781 15.214844 10.390625 15.65625 9.679688C17.652344 6.457031 20.226563 4.472656 23 4.082031 Z M 25 4.082031C28.503906 4.566406 31.578125 7.566406 33.578125 12L25 12 Z M 31.5 5.453125C34.898438 6.828125 37.820313 9.113281 39.988281 12L35.71875 12C34.625 9.371094 33.183594 7.140625 31.5 5.453125 Z M 16.425781 5.492188C15.523438 6.402344 14.6875 7.445313 13.957031 8.625C13.316406 9.660156 12.746094 10.792969 12.25 12L8.019531 12C10.171875 9.136719 13.0625 6.867188 16.425781 5.492188 Z M 6.691406 14L11.519531 14C10.640625 16.726563 10.121094 19.773438 10.03125 23L4.023438 23C4.1875 19.726563 5.144531 16.671875 6.691406 14 Z M 13.636719 14L23 14L23 23L12.03125 23C12.128906 19.726563 12.699219 16.664063 13.636719 14 Z M 36.453125 14L41.324219 14C42.867188 16.671875 43.8125 19.730469 43.972656 23L37.96875 23C37.875 19.769531 37.34375 16.722656 36.453125 14 Z M 4.023438 25L10.03125 25C10.121094 28.226563 10.640625 31.273438 11.519531 34L6.691406 34C5.144531 31.328125 4.1875 28.273438 4.023438 25 Z M 12.03125 25L23 25L23 34L13.636719 34C12.699219 31.335938 12.128906 28.273438 12.03125 25 Z M 33.953125 25C33.421875 25.027344 33 25.464844 33 26L33 45.25C33 45.65625 33.242188 46.019531 33.617188 46.171875C33.992188 46.328125 34.421875 46.242188 34.707031 45.957031L37.71875 42.941406L40.230469 48.417969C40.460938 48.917969 41.054688 49.136719 41.558594 48.90625L45.417969 47.140625C45.917969 46.910156 46.136719 46.316406 45.90625 45.8125L43.300781 40.125L48 40.125C48.410156 40.125 48.78125 39.875 48.929688 39.492188C49.082031 39.109375 48.984375 38.675781 48.683594 38.394531L34.683594 25.269531C34.484375 25.085938 34.222656 24.988281 33.953125 25 Z M 35 28.308594L45.46875 38.125L41.875 38.125C41.71875 38.125 41.566406 38.160156 41.425781 38.230469L41.320313 38.285156C40.839844 38.527344 40.632813 39.105469 40.859375 39.59375L43.671875 45.734375L41.628906 46.671875L38.9375 40.800781C38.804688 40.503906 38.527344 40.292969 38.207031 40.234375C37.882813 40.175781 37.554688 40.28125 37.324219 40.515625L35 42.835938 Z M 8.019531 36L12.25 36C12.746094 37.207031 13.316406 38.339844 13.957031 39.375C14.6875 40.554688 15.523438 41.597656 16.425781 42.507813C13.0625 41.132813 10.171875 38.863281 8.019531 36 Z M 14.441406 36L23 36L23 43.917969C20.226563 43.527344 17.652344 41.542969 15.65625 38.324219C15.214844 37.609375 14.816406 36.824219 14.441406 36Z"
                                    fill="#5B5B5B" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            @if (addon_is_activated('pos_system'))
                <div class="d-flex justify-content-around align-items-center align-items-stretch ml-3">
                    <div class="aiz-topbar-item">
                        <div class="d-flex align-items-center">
                            <a class="btn btn-icon btn-circle btn-light" href="{{ route('poin-of-sales.index') }}"
                                target="_blank" title="{{ translate('POS') }}">
                                <i class="las la-print"></i>
                            </a>
                        </div>
                    </div>
                </div>
            @endif
            <div class="d-flex justify-content-around align-items-center align-items-stretch ml-3">
                <div class="aiz-topbar-item">
                    <div class="d-flex align-items-center">
                        <a class="btn btn-soft-danger btn-sm d-flex align-items-center"
                            href="{{ route('cache.clear') }}">
                            <i class="las la-hdd fs-20"></i>
                            <span class="fw-500 ml-1 mr-0 d-none d-md-block">{{ translate('Clear Cache') }}</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-around align-items-center align-items-stretch">

            <div class="aiz-topbar-item mx-0">
                <div class="align-items-stretch d-flex dropdown" id="notif-menu">
                    <a class="dropdown-toggle no-arrow" data-toggle="dropdown" href="javascript:void(0);" role="button"
                        aria-haspopup="false" aria-expanded="false">
                        <span class="btn btn-icon p-0 d-flex justify-content-center align-items-center">
                            <span class="d-flex align-items-center position-relative">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20"
                                    height="20">
                                    <path
                                        d="M25 0C22.800781 0 21 1.800781 21 4C21 4.515625 21.101563 5.015625 21.28125 5.46875C15.65625 6.929688 12 11.816406 12 18C12 25.832031 10.078125 29.398438 8.25 31.40625C7.335938 32.410156 6.433594 33.019531 5.65625 33.59375C5.265625 33.878906 4.910156 34.164063 4.59375 34.53125C4.277344 34.898438 4 35.421875 4 36C4 37.375 4.84375 38.542969 6.03125 39.3125C7.21875 40.082031 8.777344 40.578125 10.65625 40.96875C13.09375 41.472656 16.101563 41.738281 19.40625 41.875C19.15625 42.539063 19 43.253906 19 44C19 47.300781 21.699219 50 25 50C28.300781 50 31 47.300781 31 44C31 43.25 30.847656 42.535156 30.59375 41.875C33.898438 41.738281 36.90625 41.472656 39.34375 40.96875C41.222656 40.578125 42.78125 40.082031 43.96875 39.3125C45.15625 38.542969 46 37.375 46 36C46 35.421875 45.722656 34.898438 45.40625 34.53125C45.089844 34.164063 44.734375 33.878906 44.34375 33.59375C43.566406 33.019531 42.664063 32.410156 41.75 31.40625C39.921875 29.398438 38 25.832031 38 18C38 11.820313 34.335938 6.9375 28.71875 5.46875C28.898438 5.015625 29 4.515625 29 4C29 1.800781 27.199219 0 25 0 Z M 25 2C26.117188 2 27 2.882813 27 4C27 5.117188 26.117188 6 25 6C23.882813 6 23 5.117188 23 4C23 2.882813 23.882813 2 25 2 Z M 27.34375 7.1875C32.675781 8.136719 36 12.257813 36 18C36 26.167969 38.078125 30.363281 40.25 32.75C41.335938 33.941406 42.433594 34.6875 43.15625 35.21875C43.515625 35.484375 43.785156 35.707031 43.90625 35.84375C44.027344 35.980469 44 35.96875 44 36C44 36.625 43.710938 37.082031 42.875 37.625C42.039063 38.167969 40.679688 38.671875 38.9375 39.03125C35.453125 39.753906 30.492188 40 25 40C19.507813 40 14.546875 39.753906 11.0625 39.03125C9.320313 38.671875 7.960938 38.167969 7.125 37.625C6.289063 37.082031 6 36.625 6 36C6 35.96875 5.972656 35.980469 6.09375 35.84375C6.214844 35.707031 6.484375 35.484375 6.84375 35.21875C7.566406 34.6875 8.664063 33.941406 9.75 32.75C11.921875 30.363281 14 26.167969 14 18C14 12.261719 17.328125 8.171875 22.65625 7.21875C23.320313 7.707031 24.121094 8 25 8C25.886719 8 26.679688 7.683594 27.34375 7.1875 Z M 21.5625 41.9375C22.683594 41.960938 23.824219 42 25 42C26.175781 42 27.316406 41.960938 28.4375 41.9375C28.792969 42.539063 29 43.25 29 44C29 46.222656 27.222656 48 25 48C22.777344 48 21 46.222656 21 44C21 43.242188 21.199219 42.539063 21.5625 41.9375Z"
                                        fill="#5B5B5B" />
                                </svg>
                                @if (Auth::user()->unreadNotifications->count() > 0)
                                    <span
                                        class="badge badge-sm badge-dot badge-circle badge-primary position-absolute absolute-top-right"></span>
                                @endif
                            </span>
                        </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-animated dropdown-menu-lg py-0">
                        <div class="p-3 bg-light border-bottom">
                            <h6 class="mb-0">{{ translate('Notifications') }}</h6>
                        </div>
                        <div class="px-3 c-scrollbar-light overflow-auto " style="max-height:300px;">
                            <ul class="list-group list-group-flush">
                                @forelse(Auth::user()->unreadNotifications->take(20) as $notification)
                                    <li class="list-group-item d-flex justify-content-between align-items- py-3">
                                        <div class="media text-inherit">
                                            <div class="media-body">
                                                @if ($notification->type == 'App\Notifications\OrderNotification')
                                                    <p class="mb-1 text-truncate-2">
                                                        {{ translate('Order code: ') }}
                                                        {{ $notification->data['order_code'] }}
                                                        {{ translate('has been ' . ucfirst(str_replace('_', ' ', $notification->data['status']))) }}
                                                    </p>
                                                    <small class="text-muted">
                                                        {{ date('F j Y, g:i a', strtotime($notification->created_at)) }}
                                                    </small>
                                                @endif
                                            </div>
                                        </div>
                                    </li>
                                @empty
                                    <li class="list-group-item">
                                        <div class="py-4 text-center fs-16">
                                            {{ translate('No notification found') }}
                                        </div>
                                    </li>
                                @endforelse
                            </ul>
                        </div>
                        <div class="text-center border-top">
                            <a href="{{ route('admin.all-notification') }}" class="text-reset d-block py-2">
                                {{ translate('View All Notifications') }}
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            {{-- language --}}
            @php
                if (Session::has('locale')) {
                    $locale = Session::get('locale', Config::get('app.locale'));
                } else {
                    $locale = env('DEFAULT_LANGUAGE');
                }
            @endphp
            <div class="aiz-topbar-item mx-0">
                <div class="align-items-stretch d-flex dropdown " id="lang-change">
                    <a class="dropdown-toggle no-arrow" data-toggle="dropdown" href="javascript:void(0);"
                        role="button" aria-haspopup="false" aria-expanded="false">
                        <span class="btn btn-icon" style="display: flex;align-items: center;">
                            <img src="{{ asset('assets/img/flags/' . $locale . '.png') }}" width="22"
                                height="auto">
                        </span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right dropdown-menu-animated dropdown-menu-xs">

                        @foreach (\App\Models\Language::all() as $key => $language)
                            <li>
                                <a href="javascript:void(0)" data-flag="{{ $language->code }}"
                                    class="dropdown-item @if ($locale == $language->code) active @endif">
                                    <img src="{{ asset('assets/img/flags/' . $language->code . '.png') }}"
                                        class="mr-2" width="22" height="auto">
                                    <span class="language">{{ $language->name }}</span>
                                </a>
                            </li>
                        @endforeach
                    </ul>
                </div>
            </div>

            <div class="aiz-topbar-item ml-2">
                <div class="align-items-stretch d-flex dropdown" id="user-menu">
                    <a class="dropdown-toggle no-arrow text-dark" data-toggle="dropdown" href="javascript:void(0);"
                        role="button" aria-haspopup="false" aria-expanded="false">
                        <span class="d-flex align-items-center">
                            <span class="avatar avatar-sm mr-md-2">
                                <img src="{{ uploaded_asset(Auth::user()->avatar_original) }}"
                                    onerror="this.onerror=null;this.src='{{ asset('assets/img/avatar-place.png') }}';">
                            </span>
                            <span class="d-none d-md-block">
                                <span class="d-block fw-500">{{ Auth::user()->name }}</span>
                                <span class="d-block small opacity-60">{{ Auth::user()->user_type }}</span>
                            </span>
                        </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-animated dropdown-menu-sm">
                        <a href="{{ route('profile.index') }}" class="dropdown-item">
                            <i class="las la-user-circle la-lg"></i>
                            <span>{{ translate('Profile') }}</span>
                        </a>

                        <a href="{{ route('logout') }}" class="dropdown-item">
                            <i class="las la-sign-out-alt la-lg"></i>
                            <span>{{ translate('Logout') }}</span>
                        </a>
                    </div>
                </div>
            </div><!-- .aiz-topbar-item -->
        </div>
    </div>
</div><!-- .aiz-topbar -->
